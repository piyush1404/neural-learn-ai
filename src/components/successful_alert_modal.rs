use dioxus::prelude::*;

#[derive(Props, PartialEq, Clone)]
pub struct SuccessfulModalProps {
    pub visible: Signal<bool>,
    pub title: String,
    pub message: String,
    pub item_type: String,
}

#[component]
pub fn SuccessfulModal(props: SuccessfulModalProps) -> Element {
    let visible_class = if *props.visible.read() { "" } else { "hidden" };
    let mut visible = props.visible.clone();

    rsx! {
        div {
            class: "fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50 {visible_class}",
            onclick: move |_| visible.set(false),

            div {
                class: "bg-white rounded-lg w-[265px] shadow-lg border border-gray-200 p-0",
                onclick: move |e| e.stop_propagation(),

                // Header
                div {
                    class: "flex justify-between h-[42px] items-center px-5 pt-4 pb-2 border-b",
                    span { class: "text-[15px] text-[#404040] font-medium", "{props.title}" }
                    button {
                        class: "text-gray-400 hover:text-black text-xl font-bold",
                        onclick: move |_| visible.set(false),
                        "Ã—"
                    }
                }

                // Body
                div {
                    class: "flex flex-col w-[265px] items-center px-6 pt-2 pb-3 border-b",
                    
                    // (Insert your existing SVG here if needed)
                    //SVG Background + Icon
                    div {
                        class: "flex flex-col items-center justify-center w-full space-y-2",
            
                        // Background SVG as provided
                        svg {
                            xmlns: "http://www.w3.org/2000/svg",
                            view_box: "0 0 232 76",
                            width: "232",
                            height: "76",
                            //class: "absolute top-0 left-1/2 -translate-x-1/2 w-28 h-16 opacity-30 pointer-events-none select-none",
                            // Paste all your SVG <path> elements here:
                            path { d:"M89.6747 39.3403C89.6747 41.1911 91.175 42.6914 93.0257 42.6914H115.94C117.791 42.6914 119.291 44.1917 119.291 46.0425V46.1714C119.291 48.0221 117.791 49.5225 115.94 49.5225H64.2308C62.3801 49.5225 60.8798 48.0221 60.8798 46.1714V46.0454C60.8798 44.1947 59.3794 42.6943 57.5287 42.6943H34.6136C32.7629 42.6943 31.2626 41.194 31.2626 39.3433V34.9448C31.2626 33.0941 32.7629 31.5938 34.6136 31.5938H86.3236C88.1744 31.5938 89.6747 33.0941 89.6747 34.9448V39.3403ZM183.462 35.9273C183.462 37.778 181.961 39.2783 180.111 39.2783H128.401C126.55 39.2783 125.05 37.778 125.05 35.9273V35.7983C125.05 33.9476 126.55 32.4473 128.401 32.4473H180.111C181.961 32.4473 183.462 33.9476 183.462 35.7983V35.9273ZM183.462 17.9946C183.462 19.8454 184.962 21.3457 186.813 21.3457H194.919C196.77 21.3457 198.27 22.846 198.27 24.6968V29.0952C198.27 30.946 196.77 32.4463 194.919 32.4463H143.209C141.359 32.4463 139.858 30.946 139.858 29.0952V24.6968C139.858 22.846 138.358 21.3457 136.507 21.3457H128.401C126.55 21.3457 125.05 22.846 125.05 24.6968V28.2417C125.05 30.0925 123.549 31.5928 121.699 31.5928H69.9896C68.1389 31.5928 66.6385 30.0925 66.6385 28.2417V23.8433C66.6385 21.9925 68.1389 20.4922 69.9896 20.4922H121.699C123.549 20.4922 125.05 18.9919 125.05 17.1411V13.5952C125.05 11.7445 126.55 10.2441 128.401 10.2441H180.111C181.961 10.2441 183.462 11.7445 183.462 13.5952V17.9946Z", fill:"#D8F4DD"}
                            path { d:"M73.2197 65.8179C73.2197 67.6686 71.7194 69.1689 69.8687 69.1689H61.7622C59.9115 69.1689 58.4111 70.6693 58.4111 72.52V72.648C58.4111 74.4987 56.9108 75.999 55.0601 75.999H3.35106C1.50032 75.999 0 74.4987 0 72.648V72.519C0 70.6683 1.50032 69.168 3.35106 69.168H11.4575C13.3083 69.168 14.8086 67.6676 14.8086 65.8169V61.4194C14.8086 59.5687 16.3089 58.0684 18.1597 58.0684H69.8687C71.7194 58.0684 73.2197 59.5687 73.2197 61.4194V65.8179ZM58.4111 54.7163C58.4111 56.5671 56.9108 58.0674 55.0601 58.0674H3.35106C1.50032 58.0674 0 56.5671 0 54.7163V50.3179C0 48.4671 1.50032 46.9668 3.35106 46.9668H55.0601C56.9108 46.9668 58.4111 48.4671 58.4111 50.3179V54.7163Z" ,fill:"#D8F4DD"}
                            path { d:"M184.833 63.1904C184.833 64.1337 185.597 64.8984 186.541 64.8984H220.816C221.995 64.8984 222.951 65.8542 222.951 67.0332C222.951 68.2122 221.995 69.168 220.816 69.168H183.578C183.514 69.168 183.462 69.1159 183.462 69.0518C183.462 68.9876 183.41 68.9355 183.345 68.9355H163.503C161.652 68.9355 160.152 70.4359 160.152 72.2866V72.4146C160.152 74.2653 158.652 75.7656 156.801 75.7656H124.287C122.436 75.7656 120.936 74.2653 120.936 72.4146V71.6636C120.936 69.8128 122.436 68.3125 124.287 68.3125H142.266C144.116 68.3125 145.617 66.8122 145.617 64.9614V64.8335C145.617 62.9827 147.117 61.4824 148.968 61.4824H183.125C184.068 61.4824 184.833 62.2471 184.833 63.1904Z", fill:"#D8F4DD"}
                            path { d:"M161.149 50.3809C162.416 50.3809 163.442 51.4075 163.442 52.6738C163.442 53.9402 162.416 54.9668 161.149 54.9668H141.289C139.439 54.9668 137.938 56.4671 137.938 58.3179V58.7544C137.938 60.6051 136.438 62.1055 134.587 62.1055H102.075C100.224 62.1055 98.7235 60.6051 98.7235 58.7544V58.0034C98.7235 56.1527 100.224 54.6523 102.075 54.6523H122.092C123.271 54.6523 124.227 53.6961 124.227 52.5166C124.227 51.3371 125.184 50.3809 126.363 50.3809H161.149Z" ,fill:"#D8F4DD"}
                            path { d:"M102.896 4.26758C104.075 4.26758 105.031 5.22335 105.031 6.40234C105.031 7.58134 105.986 8.53711 107.165 8.53711H117.311C119.162 8.53711 120.662 10.0374 120.662 11.8882V12.6392C120.662 14.4899 119.162 15.9902 117.311 15.9902H84.7986C82.9478 15.9902 81.4475 14.4899 81.4475 12.6392V12.2056C81.4475 10.3548 79.9472 8.85449 78.0964 8.85449H68.1091C66.8425 8.85449 65.8157 7.82768 65.8157 6.56104C65.8157 5.29439 66.8425 4.26758 68.1091 4.26758H102.896Z" ,fill:"#D8F4DD"}
                            path { d:"M226.037 40.8228C226.037 42.6735 224.536 44.1738 222.686 44.1738H219.392C217.571 44.1738 216.094 45.6503 216.094 47.4717C216.094 49.293 217.571 50.7695 219.392 50.7695H223.744C225.01 50.7695 226.037 51.7961 226.037 53.0625C226.037 54.3289 225.01 55.3555 223.744 55.3555H189.112C187.847 55.3555 186.821 54.3297 186.821 53.0645C186.821 51.7992 185.795 50.7734 184.53 50.7734H180.231C178.38 50.7734 176.88 49.2731 176.88 47.4224V46.6714C176.88 44.8206 178.38 43.3203 180.231 43.3203H183.521C185.344 43.3203 186.821 41.8429 186.821 40.0205C186.821 38.1981 188.298 36.7207 190.121 36.7207H222.686C224.536 36.7207 226.037 38.221 226.037 40.0718V40.8228Z", fill:"#D8F4DD"}
                            path { d:"M61.7024 23.3916C63.323 23.3917 64.6575 24.7595 64.6575 26.4727C64.6573 28.1857 63.3229 29.5526 61.7024 29.5527C60.0818 29.5527 58.7465 28.1858 58.7463 26.4727C58.7463 24.7594 60.0817 23.3916 61.7024 23.3916Z" ,fill:"#D8F4DD", stroke:"#AFCDB4", stroke_width:"0.670213"}
                            path { d:"M228.71 43.8857C230.33 43.8859 231.665 45.2536 231.665 46.9668C231.665 48.6798 230.33 50.0467 228.71 50.0469C227.089 50.0469 225.754 48.6799 225.754 46.9668C225.754 45.2535 227.089 43.8857 228.71 43.8857Z" ,fill:"#D8F4DD" , stroke:"#AFCDB4", stroke_width:"0.670213"}
                            path { d:"M9.04993 60.9658C10.6705 60.966 12.005 62.3337 12.005 64.0469C12.0048 65.7599 10.6704 67.1268 9.04993 67.127C7.42931 67.127 6.09403 65.76 6.09387 64.0469C6.09387 62.3336 7.42921 60.9658 9.04993 60.9658Z" ,fill:"#D8F4DD" , stroke:"#AFCDB4", stroke_width:"0.670213"}
                            path { d:"M188.397 13.1436C190.018 13.1437 191.353 14.5114 191.353 16.2246C191.352 17.9376 190.018 19.3046 188.397 19.3047C186.777 19.3047 185.442 17.9377 185.441 16.2246C185.441 14.5114 186.777 13.1436 188.397 13.1436Z" ,fill:"#D8F4DD" , stroke:"#AFCDB4", stroke_width:"0.670213"}
                            path { d:"M114.355 68.6494C115.976 68.6495 117.31 70.0173 117.31 71.7305C117.31 73.4435 115.975 74.8104 114.355 74.8105C112.734 74.8105 111.399 73.4436 111.399 71.7305C111.399 70.0172 112.734 68.6494 114.355 68.6494Z" ,fill:"#D8F4DD" , stroke:"#AFCDB4", stroke_width:"0.670213"}
                            path { d:"M170.298 47.2998C171.919 47.2999 173.253 48.6677 173.253 50.3809C173.253 52.0939 171.919 53.4608 170.298 53.4609C168.678 53.4609 167.342 52.094 167.342 50.3809C167.342 48.6676 168.678 47.2998 170.298 47.2998Z" ,fill:"#D8F4DD" , stroke:"#AFCDB4", stroke_width:"0.670213"}
                            path { d:"M110.241 0.334961C111.862 0.335092 113.197 1.70285 113.197 3.41602C113.196 5.12904 111.862 6.49596 110.241 6.49609C108.621 6.49609 107.286 5.12912 107.285 3.41602C107.285 1.70277 108.621 0.334961 110.241 0.334961Z" ,fill:"#D8F4DD" , stroke:"#AFCDB4", stroke_width:"0.670213"}
                            path { d:"M116 19.6875C111.983 19.6875 108.055 20.8788 104.715 23.1108C101.375 25.3427 98.7711 28.5151 97.2337 32.2267C95.6963 35.9384 95.294 40.0225 96.0778 43.9628C96.8616 47.903 98.7961 51.5224 101.637 54.3631C104.478 57.2039 108.097 59.1384 112.037 59.9222C115.977 60.706 120.062 60.3037 123.773 58.7663C127.485 57.2289 130.657 54.6254 132.889 51.285C135.121 47.9446 136.313 44.0174 136.313 40C136.307 34.6145 134.165 29.4511 130.357 25.643C126.549 21.8348 121.386 19.693 116 19.6875ZM116 57.1875C112.601 57.1875 109.278 56.1795 106.451 54.2909C103.625 52.4023 101.422 49.718 100.121 46.5774C98.8199 43.4368 98.4796 39.9809 99.1428 36.6469C99.8059 33.3128 101.443 30.2503 103.847 27.8466C106.25 25.4429 109.313 23.8059 112.647 23.1428C115.981 22.4796 119.437 22.8199 122.577 24.1208C125.718 25.4217 128.402 27.6247 130.291 30.4511C132.179 33.2776 133.188 36.6006 133.188 40C133.182 44.5567 131.369 48.9252 128.147 52.1473C124.925 55.3694 120.557 57.182 116 57.1875ZM125.333 32.5417C125.65 32.8091 125.85 33.1903 125.889 33.6033C125.928 34.0162 125.803 34.428 125.542 34.75L115.125 47.25C114.981 47.4153 114.806 47.5503 114.609 47.6469C114.412 47.7435 114.198 47.7998 113.979 47.8125C113.565 47.8121 113.168 47.6473 112.875 47.3542L106.625 41.1042C106.349 40.808 106.199 40.4162 106.206 40.0114C106.213 39.6066 106.377 39.2204 106.663 38.9341C106.95 38.6478 107.336 38.4839 107.741 38.4767C108.145 38.4696 108.537 38.6198 108.833 38.8958L113.917 43.9375L123.229 32.75C123.493 32.4621 123.853 32.2816 124.241 32.2431C124.63 32.2047 125.019 32.311 125.333 32.5417Z", fill:"#1C9F32"}

                        }
                    }
            
                    // Success text
                    p { class: "w-full text-left text-[16px] pt-2 font-bold text-[#27ae60] mt-2",
                    "Successful" }
                    p {
                        class: "text-sm text-gray-700 py-2 font-poppins",
                        "{props.message} successful {props.item_type}."
                    }
                }

                // Footer
                div {
                    class: "flex justify-end px-6 pb-4 pt-2",
                    button {
                        class: "bg-[#1C9F32] text-white text-sm px-5 py-1.5 rounded hover:bg-[#d68910] font-medium",
                        onclick: move |_| visible.set(false),
                        "Done"
                    }
                }
            }
        }
    }
}

